<%-
  label_key = "mongoid.attributes.category."
  hint_key = "mongoid.hints.category."
-%>

<%= semantic_form_for([:admin, @category], html: {class: 'tabbed-translation-form'}) do |f| %>
  <%= f.error_messages %>

  <%= render layout: 'shared/admin_tab_translations' do |index, default_locale| %>
    <%= f.fields_for :name_translations, OpenStruct.new(f.object.name_translations) do |translation| %>
      <%
        label = t(label_key + 'name')
        hint = t(hint_key + 'name')
        if index > 0
          label << show_default_text(@category.name_translations[default_locale])
        end
      %>
      <%= translation.input locale,
                            hint: hint,
                            label: label.html_safe %>
    <% end %>
  <% end %>

  <%= f.inputs do %>
    <%= f.input :permalink, hint: t(hint_key + 'permalink'), input_html: {size: 25} %>
    <%= f.input :sort_order, as: :number, hint: t(hint_key + 'sort_order'), min: 1, step: 5 %>
  <% end %>


  <div class="form-group" style="margin-top: 20px;">
    <%= f.submit nil, :class => 'btn btn-primary' %>
    <%= f.submit t('helpers.links.reset'), :class => 'btn btn-warning', :type => :reset, :name => :reset %>
    <%= link_to t('helpers.links.cancel'), admin_categories_path, :class => 'btn btn-warning' %>
  </div>
<% end %>
